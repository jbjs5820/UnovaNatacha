<!DOCTYPE html>
<html lang="pt-PT">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gestor de Trabalhos Académicos PhD - Gestão e Economia</title>
  
  <!-- Tailwind CSS via CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- docx.js for Word export -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/docx/7.8.2/docx.js"></script>
  
  <!-- jsPDF for PDF export -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  
  <!-- html2canvas for PDF export -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  
  <!-- PapaParse for CSV handling -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
  
  <!-- React, ReactDOM via CDN -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
  
  <!-- Babel for JSX -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.22.13/babel.min.js"></script>
  
  <style>
    /* Custom styles beyond Tailwind */
    .task-card {
      transition: all 0.3s ease;
    }
    
    .task-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    }
    
    .ai-response {
      max-height: 300px;
      overflow-y: auto;
    }
    
    /* Chart Styling */
    .chart-container {
      height: 300px;
      position: relative;
    }
    
    /* Custom Scrollbar */
    ::-webkit-scrollbar {
      width: 8px;
    }
    
    ::-webkit-scrollbar-track {
      background: #f1f1f1;
      border-radius: 10px;
    }
    
    ::-webkit-scrollbar-thumb {
      background: #888;
      border-radius: 10px;
    }
    
    ::-webkit-scrollbar-thumb:hover {
      background: #555;
    }
    
    /* Loading Animation */
    .loading-spinner {
      border: 3px solid rgba(0, 0, 0, 0.1);
      border-radius: 50%;
      border-top: 3px solid #3498db;
      width: 20px;
      height: 20px;
      animation: spin 1s linear infinite;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    /* File Upload Styles */
    .file-upload-label {
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .file-upload-label:hover {
      background-color: #e5e7eb;
    }
  </style>
</head>

<body class="bg-gray-50 min-h-screen">
  <div id="app-root"></div>
  
  <script type="text/babel">
    // Initialize jsPDF
    const { jsPDF } = window.jspdf;
    
    // Main App Component
    const App = () => {
      const [activeTab, setActiveTab] = React.useState('tasks');
      const [tasks, setTasks] = React.useState(() => {
        const savedTasks = localStorage.getItem('phd-group-tasks');
        return savedTasks ? JSON.parse(savedTasks) : [
          {
            id: 1,
            title: 'Revisão da Literatura',
            description: 'Realizar revisão da literatura sobre teorias de economia comportamental',
            assignedTo: 'Membro da Equipa 1',
            dueDate: '2025-03-15',
            priority: 'Alta',
            status: 'Em Curso',
            category: 'Investigação',
            comments: [],
            files: [],
            progress: 30,
            aiContent: '', // Novo campo para conteúdo gerado pela IA
            aiReviewed: false // Indica se o conteúdo foi revisto pelo utilizador
          },
          {
            id: 2,
            title: 'Plano de Análise de Dados',
            description: 'Desenvolver metodologia para análise de dados de equilíbrio de mercado',
            assignedTo: 'Membro da Equipa 2',
            dueDate: '2025-03-10',
            priority: 'Média',
            status: 'Não Iniciada',
            category: 'Análise',
            comments: [],
            files: [],
            progress: 0,
            aiContent: '',
            aiReviewed: false
          }
        ];
      });
      
      const [projects, setProjects] = React.useState(() => {
        const savedProjects = localStorage.getItem('phd-group-projects');
        return savedProjects ? JSON.parse(savedProjects) : [
          {
            id: 1,
            name: 'Análise de Equilíbrio de Mercado',
            description: 'Investigação sobre equilíbrio dinâmico em mercados emergentes',
            deadline: '2025-05-20',
            members: ['Membro da Equipa 1', 'Membro da Equipa 2', 'Membro da Equipa 3'],
            status: 'Em Curso',
            progress: 25,
            aiProposal: '', // Proposta detalhada gerada pela IA
            aiReviewed: false // Revisão pelo utilizador
          }
        ];
      });
      
      const [resources, setResources] = React.useState(() => {
        const savedResources = localStorage.getItem('phd-group-resources');
        return savedResources ? JSON.parse(savedResources) : [
          {
            id: 1,
            title: 'Métodos Econométricos para Dados em Painel',
            type: 'Livro',
            author: 'Wooldridge, J.',
            year: 2020,
            url: '',
            notes: 'Capítulos 10-12 particularmente relevantes para a nossa metodologia',
            area: 'Economia', // Nova propriedade: área temática
            relevance: 'Alta' // Nova propriedade: relevância para o projeto
          },
          {
            id: 2,
            title: 'Abordagem da Teoria dos Jogos à Tomada de Decisão em Gestão',
            type: 'Artigo Científico',
            author: 'Schmidt, B.',
            year: 2023,
            url: 'https://doi.org/10.1234/example',
            notes: 'Fornece estrutura teórica para a nossa análise',
            area: 'Gestão',
            relevance: 'Média'
          }
        ];
      });
      
      const [aiPrompt, setAiPrompt] = React.useState('');
      const [aiResponse, setAiResponse] = React.useState('');
      const [isAiLoading, setIsAiLoading] = React.useState(false);
      const [googleApiKey, setGoogleApiKey] = React.useState(() => {
        try {
          // Tentar carregar a chave de API do arquivo .env.local (via localStorage para demostração)
          const storedKey = localStorage.getItem('google-api-key');
          if (storedKey) return storedKey;
          
          // No ambiente real, seria obtido do arquivo .env.local
          return "AIzaSyABf0JdJsnKNbo8UbBJMXh9KEAriwTHcME"; // Chave do .env.local
        } catch (error) {
          console.error("Erro ao carregar a chave de API:", error);
          return '';
        }
      });
      
      const [paperSearchQuery, setPaperSearchQuery] = React.useState('');
      const [searchResults, setSearchResults] = React.useState([]);
      const [isSearching, setIsSearching] = React.useState(false);
      
      // Funções para pesquisa de papers acadêmicos
      const searchForPapers = async () => {
        if (!paperSearchQuery || !googleApiKey) return;
        
        setIsSearching(true);
        try {
          // Simular uma chamada à API para fins de demonstração
          // Em produção, usaria a API real do Google ou outra API acadêmica
          setTimeout(() => {
            const results = [
              {
                id: `paper-${Date.now()}-1`,
                title: `Análise Económica sobre ${paperSearchQuery}`,
                author: 'Silva, J. et al.',
                year: 2023,
                url: `https://doi.org/10.1234/${paperSearchQuery.replace(/\s+/g, '-').toLowerCase()}`,
                abstract: `Este artigo apresenta uma análise detalhada sobre ${paperSearchQuery} no contexto das economias emergentes. Utilizando métodos quantitativos avançados, os autores demonstram padrões significativos que contribuem para a literatura existente.`,
                area: 'Economia',
                relevance: 'Alta'
              },
              {
                id: `paper-${Date.now()}-2`,
                title: `Fundamentos de Gestão para ${paperSearchQuery}`,
                author: 'Pereira, M. & Costa, A.',
                year: 2022,
                url: `https://example.org/papers/${paperSearchQuery.replace(/\s+/g, '-').toLowerCase()}`,
                abstract: `Uma abordagem sistemática aos princípios de gestão aplicados a ${paperSearchQuery}. Este estudo examina as melhores práticas e propõe um novo modelo conceptual para futuras investigações nesta área.`,
                area: 'Gestão',
                relevance: 'Média'
              },
              {
                id: `paper-${Date.now()}-3`,
                title: `Ciência de Dados Aplicada a ${paperSearchQuery}`,
                author: 'Rodrigues, T. et al.',
                year: 2024,
                url: `https://sci-data.org/${paperSearchQuery.replace(/\s+/g, '-').toLowerCase()}`,
                abstract: `Este artigo apresenta uma metodologia inovadora para a aplicação de técnicas de ciência de dados a problemas de ${paperSearchQuery}. Utilizando modelos avançados de aprendizagem automática, os autores demonstram resultados promissores que superam as abordagens tradicionais.`,
                area: 'Ciência de Dados',
                relevance: 'Alta'
              }
            ];
            
            setSearchResults(results);
            setIsSearching(false);
          }, 1500);
          
          // Em produção, usaria código como este:
          /*
          const response = await fetch(`https://serpapi.com/search.json?engine=google_scholar&q=${encodeURIComponent(paperSearchQuery)}&api_key=${googleApiKey}`);
          const data = await response.json();
          const results = data.organic_results.map(result => ({
            id: `paper-${Date.now()}-${Math.random().toString(36).substring(2)}`,
            title: result.title,
            author: result.publication_info?.authors?.join(', ') || 'N/A',
            year: result.publication_info?.year || new Date().getFullYear(),
            url: result.link,
            abstract: result.snippet,
            area: detectArea(result.title + ' ' + (result.snippet || '')),
            relevance: calculateRelevance(result.title, paperSearchQuery)
          }));
          
          setSearchResults(results);
          */
        } catch (error) {
          console.error("Erro na pesquisa de papers:", error);
        } finally {
          setIsSearching(false);
        }
      };
      
      // Adicionar paper aos recursos
      const addPaperToResources = (paper) => {
        const newResource = {
          id: Date.now(),
          title: paper.title,
          type: 'Artigo Científico',
          author: paper.author,
          year: paper.year,
          url: paper.url,
          notes: paper.abstract,
          area: paper.area,
          relevance: paper.relevance
        };
        
        setResources(prev => {
          const updated = [...prev, newResource];
          localStorage.setItem('phd-group-resources', JSON.stringify(updated));
          return updated;
        });
        
        // Remover dos resultados de pesquisa
        setSearchResults(prev => prev.filter(p => p.id !== paper.id));
      };
      
      // Função para detectar a área do paper com base no título e resumo
      const detectArea = (text) => {
        text = text.toLowerCase();
        if (text.includes('econom') || text.includes('financ') || text.includes('mercado')) {
          return 'Economia';
        } else if (text.includes('gest') || text.includes('administra') || text.includes('negóci')) {
          return 'Gestão';
        } else if (text.includes('dados') || text.includes('estatístic') || text.includes('análise quantitativ')) {
          return 'Ciência de Dados';
        } else if (text.includes('ai') || text.includes('inteligência artificial') || text.includes('machine learning')) {
          return 'Inteligência Artificial';
        }
        return 'Outra';
      };
      
      // Calcular relevância com base na correspondência entre o título e a consulta
      const calculateRelevance = (title, query) => {
        const words = query.toLowerCase().split(' ');
        const titleLower = title.toLowerCase();
        const matchCount = words.filter(word => titleLower.includes(word)).length;
        const ratio = matchCount / words.length;
        
        if (ratio > 0.7) return 'Alta';
        if (ratio > 0.4) return 'Média';
        return 'Baixa';
      };
      
      // Render the tasks list
      const renderTasks = () => (
        <div className="space-y-6">
          <div className="flex flex-wrap gap-4">
            <div className="bg-white rounded-lg shadow p-4 w-full md:w-64">
              <h3 className="font-semibold text-gray-700">Total Tasks</h3>
              <p className="text-3xl font-bold text-blue-600">{tasks.length}</p>
            </div>
            <div className="bg-white rounded-lg shadow p-4 w-full md:w-64">
              <h3 className="font-semibold text-gray-700">Completed</h3>
              <p className="text-3xl font-bold text-green-600">{tasks.filter(task => task.status === 'Completed').length}</p>
            </div>
            <div className="bg-white rounded-lg shadow p-4 w-full md:w-64">
              <h3 className="font-semibold text-gray-700">In Progress</h3>
              <p className="text-3xl font-bold text-yellow-600">{tasks.filter(task => task.status === 'In Progress').length}</p>
            </div>
            <div className="bg-white rounded-lg shadow p-4 w-full md:w-64">
              <h3 className="font-semibold text-gray-700">Not Started</h3>
              <p className="text-3xl font-bold text-red-600">{tasks.filter(task => task.status === 'Not Started').length}</p>
            </div>
          </div>
          
          <div className="flex justify-between items-center">
            <h2 className="text-xl font-bold text-gray-800">Tasks</h2>
            <button 
              onClick={() => document.getElementById('addTaskModal').classList.remove('hidden')}
              className="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition duration-200"
            >
              Add New Task
            </button>
          </div>
          
          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
            {tasks.map(task => (
              <div 
                key={task.id} 
                className={`task-card bg-white rounded-lg shadow p-4 border-l-4 ${
                  task.status === 'Completed' ? 'border-green-500' :
                  task.status === 'In Progress' ? 'border-yellow-500' :
                  'border-red-500'
                }`}
              >
                <div className="flex justify-between items-start">
                  <h3 className="font-bold text-gray-800">{task.title}</h3>
                  <div className="flex space-x-2">
                    <button 
                      onClick={() => deleteTask(task.id)}
                      className="text-gray-400 hover:text-red-500"
                    >
                      <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                        <path fillRule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clipRule="evenodd" />
                      </svg>
                    </button>
                  </div>
                </div>
                
                <p className="text-gray-600 mt-2">{task.description}</p>
                
                <div className="mt-4 text-sm">
                  <div className="flex justify-between">
                    <span className="text-gray-500">Assigned to:</span>
                    <span className="font-medium">{task.assignedTo}</span>
                  </div>
                  <div className="flex justify-between mt-1">
                    <span className="text-gray-500">Due Date:</span>
                    <span className="font-medium">{task.dueDate}</span>
                  </div>
                  <div className="flex justify-between mt-1">
                    <span className="text-gray-500">Priority:</span>
                    <span 
                      className={`font-medium ${
                        task.priority === 'High' ? 'text-red-600' :
                        task.priority === 'Medium' ? 'text-yellow-600' :
                        'text-green-600'
                      }`}
                    >
                      {task.priority}
                    </span>
                  </div>
                  <div className="flex justify-between mt-1">
                    <span className="text-gray-500">Category:</span>
                    <span className="font-medium">{task.category}</span>
                  </div>
                </div>
                
                <div className="mt-4">
                  <div className="flex justify-between items-center">
                    <span className="text-sm text-gray-500">Progress: {task.progress}%</span>
                    <span className="text-sm font-medium">{task.status}</span>
                  </div>
                  <div className="w-full bg-gray-200 rounded-full h-2.5 mt-1">
                    <div 
                      className={`h-2.5 rounded-full ${
                        task.status === 'Completed' ? 'bg-green-500' :
                        task.status === 'In Progress' ? 'bg-yellow-500' :
                        'bg-red-500'
                      }`}
                      style={{ width: `${task.progress}%` }}
                    ></div>
                  </div>
                </div>
                
                <div className="mt-4 flex flex-wrap space-x-2">
                  <select 
                    value={task.status}
                    onChange={(e) => updateTaskStatus(task.id, e.target.value)}
                    className="text-sm border rounded p-1"
                  >
                    <option value="Not Started">Not Started</option>
                    <option value="In Progress">In Progress</option>
                    <option value="Completed">Completed</option>
                  </select>
                  
                  <input 
                    type="number" 
                    min="0" 
                    max="100" 
                    value={task.progress}
                    onChange={(e) => updateTaskProgress(task.id, parseInt(e.target.value, 10))}
                    className="text-sm border rounded p-1 w-16"
                  />
                </div>
              </div>
            ))}
          </div>
          
          {/* Add Task Modal */}
          <div id="addTaskModal" className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
            <div className="bg-white rounded-lg p-6 max-w-md w-full">
              <h2 className="text-xl font-bold mb-4">Add New Task</h2>
              <form onSubmit={addTask}>
                <div className="mb-4">
                  <label className="block text-gray-700 text-sm font-bold mb-2" htmlFor="title">
                    Title
                  </label>
                  <input
                    type="text"
                    id="title"
                    name="title"
                    value={taskFormData.title}
                    onChange={handleTaskFormChange}
                    className="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                    required
                  />
                </div>
                
                <div className="mb-4">
                  <label className="block text-gray-700 text-sm font-bold mb-2" htmlFor="description">
                    Description
                  </label>
                  <textarea
                    id="description"
                    name="description"
                    value={taskFormData.description}
                    onChange={handleTaskFormChange}
                    className="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                    rows="3"
                  ></textarea>
                </div>
                
                <div className="mb-4">
                  <label className="block text-gray-700 text-sm font-bold mb-2" htmlFor="assignedTo">
                    Assigned To
                  </label>
                  <input
                    type="text"
                    id="assignedTo"
                    name="assignedTo"
                    value={taskFormData.assignedTo}
                    onChange={handleTaskFormChange}
                    className="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                  />
                </div>
                
                <div className="mb-4">
                  <label className="block text-gray-700 text-sm font-bold mb-2" htmlFor="dueDate">
                    Due Date
                  </label>
                  <input
                    type="date"
                    id="dueDate"
                    name="dueDate"
                    value={taskFormData.dueDate}
                    onChange={handleTaskFormChange}
                    className="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                  />
                </div>
                
                <div className="mb-4">
                  <label className="block text-gray-700 text-sm font-bold mb-2" htmlFor="priority">
                    Priority
                  </label>
                  <select
                    id="priority"
                    name="priority"
                    value={taskFormData.priority}
                    onChange={handleTaskFormChange}
                    className="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                  >
                    <option value="Low">Low</option>
                    <option value="Medium">Medium</option>
                    <option value="High">High</option>
                  </select>
                </div>
                
                <div className="mb-4">
                  <label className="block text-gray-700 text-sm font-bold mb-2" htmlFor="category">
                    Category
                  </label>
                  <select
                    id="category"
                    name="category"
                    value={taskFormData.category}
                    onChange={handleTaskFormChange}
                    className="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                  >
                    <option value="Research">Research</option>
                    <option value="Analysis">Analysis</option>
                    <option value="Writing">Writing</option>
                    <option value="Presentation">Presentation</option>
                    <option value="Meeting">Meeting</option>
                    <option value="Other">Other</option>
                  </select>
                </div>
                
                <div className="flex items-center justify-between">
                  <button
                    type="submit"
                    className="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition duration-200"
                  >
                    Add Task
                  </button>
                  <button
                    type="button"
                    onClick={() => document.getElementById('addTaskModal').classList.add('hidden')}
                    className="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition duration-200"
                  >
                    Cancel
                  </button>
                </div>
              </form>
            </div>
          </div>
        </div>
      );
      
      // Render the projects section
      const renderProjects = () => (
        <div className="space-y-6">
          <div className="flex justify-between items-center">
            <h2 className="text-xl font-bold text-gray-800">Projects</h2>
            <button 
              onClick={() => document.getElementById('addProjectModal').classList.remove('hidden')}
              className="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition duration-200"
            >
              Add New Project
            </button>
          </div>
          
          <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
            {projects.map(project => (
              <div key={project.id} className="bg-white rounded-lg shadow p-6">
                <div className="flex justify-between items-start">
                  <h3 className="font-bold text-xl text-gray-800">{project.name}</h3>
                  <button 
                    onClick={() => deleteProject(project.id)}
                    className="text-gray-400 hover:text-red-500"
                  >
                    <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                      <path fillRule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clipRule="evenodd" />
                    </svg>
                  </button>
                </div>
                
                <p className="text-gray-600 mt-3">{project.description}</p>
                
                <div className="mt-4">
                  <div className="flex justify-between items-center">
                    <span className="text-sm text-gray-500">Progress: {project.progress}%</span>
                    <span className="text-sm font-medium">{project.status}</span>
                  </div>
                  <div className="w-full bg-gray-200 rounded-full h-2.5 mt-1">
                    <div 
                      className={`h-2.5 rounded-full ${
                        project.status === 'Completed' ? 'bg-green-500' :
                        project.status === 'In Progress' ? 'bg-blue-500' :
                        'bg-yellow-500'
                      }`}
                      style={{ width: `${project.progress}%` }}
                    ></div>
                  </div>
                </div>
                
                <div className="mt-4 text-sm">
                  <div className="flex justify-between">
                    <span className="text-gray-500">Deadline:</span>
                    <span className="font-medium">{project.deadline}</span>
                  </div>
                </div>
                
                <div className="mt-4">
                  <h4 className="font-semibold text-gray-700">Team Members</h4>
                  <div className="flex flex-wrap gap-2 mt-2">
                    {project.members.map((member, index) => (
                      <span key={index} className="bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded">
                        {member}
                      </span>
                    ))}
                  </div>
                </div>
                
                <div className="mt-6">
                  <h4 className="font-semibold text-gray-700">Associated Tasks</h4>
                  <div className="mt-2 space-y-2">
                    {tasks.filter(task => task.title.includes(project.name)).length > 0 ? (
                      tasks.filter(task => task.title.includes(project.name)).map(task => (
                        <div key={task.id} className="flex items-center justify-between">
                          <span className="text-sm">{task.title}</span>
                          <span className={`text-xs font-medium px-2.5 py-0.5 rounded ${
                            task.status === 'Completed' ? 'bg-green-100 text-green-800' :
                            task.status === 'In Progress' ? 'bg-yellow-100 text-yellow-800' :
                            'bg-red-100 text-red-800'
                          }`}>{task.status}</span>
                        </div>
                      ))
                    ) : (
                      <p className="text-sm text-gray-500">No tasks associated with this project.</p>
                    )}
                  </div>
                </div>
              </div>
            ))}
          </div>
          
          {/* Add Project Modal */}
          <div id="addProjectModal" className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
            <div className="bg-white rounded-lg p-6 max-w-md w-full">
              <h2 className="text-xl font-bold mb-4">Add New Project</h2>
              <form onSubmit={addProject}>
                <div className="mb-4">
                  <label className="block text-gray-700 text-sm font-bold mb-2" htmlFor="name">
                    Project Name
                  </label>
                  <input
                    type="text"
                    id="name"
                    name="name"
                    value={projectFormData.name}
                    onChange={handleProjectFormChange}
                    className="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                    required
                  />
                </div>
                
                <div className="mb-4">
                  <label className="block text-gray-700 text-sm font-bold mb-2" htmlFor="description">
                    Description
                  </label>
                  <textarea
                    id="description"
                    name="description"
                    value={projectFormData.description}
                    onChange={handleProjectFormChange}
                    className="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                    rows="3"
                  ></textarea>
                </div>
                
                <div className="mb-4">
                  <label className="block text-gray-700 text-sm font-bold mb-2" htmlFor="deadline">
                    Deadline
                  </label>
                  <input
                    type="date"
                    id="deadline"
                    name="deadline"
                    value={projectFormData.deadline}
                    onChange={handleProjectFormChange}
                    className="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                  />
                </div>
                
                <div className="mb-4">
                  <label className="block text-gray-700 text-sm font-bold mb-2" htmlFor="members">
                    Team Members (comma separated)
                  </label>
                  <input
                    type="text"
                    id="members"
                    name="members"
                    value={typeof projectFormData.members === 'string' ? projectFormData.members : projectFormData.members.join(', ')}
                    onChange={handleProjectFormChange}
                    className="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                    placeholder="Member 1, Member 2, ..."
                  />
                </div>
                
                <div className="mb-4">
                  <label className="block text-gray-700 text-sm font-bold mb-2" htmlFor="status">
                    Status
                  </label>
                  <select
                    id="status"
                    name="status"
                    value={projectFormData.status}
                    onChange={handleProjectFormChange}
                    className="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                  >
                    <option value="Not Started">Not Started</option>
                    <option value="In Progress">In Progress</option>
                    <option value="Completed">Completed</option>
                  </select>
                </div>
                
                <div className="mb-4">
                  <label className="block text-gray-700 text-sm font-bold mb-2" htmlFor="progress">
                    Progress (%)
                  </label>
                  <input
                    type="number"
                    id="progress"
                    name="progress"
                    min="0"
                    max="100"
                    value={projectFormData.progress}
                    onChange={handleProjectFormChange}
                    className="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                  />
                </div>
                
                <div className="flex items-center justify-between">
                  <button
                    type="submit"
                    className="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition duration-200"
                  >
                    Add Project
                  </button>
                  <button
                    type="button"
                    onClick={() => document.getElementById('addProjectModal').classList.add('hidden')}
                    className="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition duration-200"
                  >
                    Cancel
                  </button>
                </div>
              </form>
            </div>
          </div>
        </div>
      );
      
      // Render the resources section
      const renderResources = () => (
        <div className="space-y-6">
          <div className="flex justify-between items-center">
            <h2 className="text-xl font-bold text-gray-800">Resources</h2>
            <button 
              onClick={() => document.getElementById('addResourceModal').classList.remove('hidden')}
              className="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition duration-200"
            >
              Add New Resource
            </button>
          </div>
          
          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
            {resources.map(resource => (
              <div key={resource.id} className="bg-white rounded-lg shadow p-4">
                <div className="flex justify-between items-start">
                  <h3 className="font-bold text-gray-800">{resource.title}</h3>
                  <button 
                    onClick={() => deleteResource(resource.id)}
                    className="text-gray-400 hover:text-red-500"
                  >
                    <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                      <path fillRule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clipRule="evenodd" />
                    </svg>
                  </button>
                </div>
                
                <div className="mt-2 text-sm">
                  <div className="flex justify-between mt-1">
                    <span className="text-gray-500">Type:</span>
                    <span className="font-medium">{resource.type}</span>
                  </div>
                  <div className="flex justify-between mt-1">
                    <span className="text-gray-500">Author:</span>
                    <span className="font-medium">{resource.author}</span>
                  </div>
                  <div className="flex justify-between mt-1">
                    <span className="text-gray-500">Year:</span>
                    <span className="font-medium">{resource.year}</span>
                  </div>
                  {resource.url && (
                    <div className="mt-2">
                      <a 
                        href={resource.url} 
                        target="_blank" 
                        rel="noopener noreferrer" 
                        className="text-blue-600 hover:underline"
                      >
                        View Resource
                      </a>
                    </div>
                  )}
                </div>
                
                {resource.notes && (
                  <div className="mt-3">
                    <h4 className="font-semibold text-gray-700 text-sm">Notes:</h4>
                    <p className="text-gray-600 text-sm mt-1">{resource.notes}</p>
                  </div>
                )}
              </div>
            ))}
          </div>
          
          {/* Add Resource Modal */}
          <div id="addResourceModal" className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
            <div className="bg-white rounded-lg p-6 max-w-md w-full">
              <h2 className="text-xl font-bold mb-4">Add New Resource</h2>
              <form onSubmit={addResource}>
                <div className="mb-4">
                  <label className="block text-gray-700 text-sm font-bold mb-2" htmlFor="title">
                    Title
                  </label>
                  <input
                    type="text"
                    id="title"
                    name="title"
                    value={resourceFormData.title}
                    onChange={handleResourceFormChange}
                    className="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                    required
                  />
                </div>
                
                <div className="mb-4">
                  <label className="block text-gray-700 text-sm font-bold mb-2" htmlFor="type">
                    Type
                  </label>
                  <select
                    id="type"
                    name="type"
                    value={resourceFormData.type}
                    onChange={handleResourceFormChange}
                    className="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                  >
                    <option value="Book">Book</option>
                    <option value="Journal Article">Journal Article</option>
                    <option value="Conference Paper">Conference Paper</option>
                    <option value="Website">Website</option>
                    <option value="Report">Report</option>
                    <option value="Dataset">Dataset</option>
                    <option value="Other">Other</option>
                  </select>
                </div>
                
                <div className="mb-4">
                  <label className="block text-gray-700 text-sm font-bold mb-2" htmlFor="author">
                    Author(s)
                  </label>
                  <input
                    type="text"
                    id="author"
                    name="author"
                    value={resourceFormData.author}
                    onChange={handleResourceFormChange}
                    className="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                  />
                </div>
                
                <div className="mb-4">
                  <label className="block text-gray-700 text-sm font-bold mb-2" htmlFor="year">
                    Year
                  </label>
                  <input
                    type="number"
                    id="year"
                    name="year"
                    min="1900"
                    max="2100"
                    value={resourceFormData.year}
                    onChange={handleResourceFormChange}
                    className="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                  />
                </div>
                
                <div className="mb-4">
                  <label className="block text-gray-700 text-sm font-bold mb-2" htmlFor="url">
                    URL (optional)
                  </label>
                  <input
                    type="url"
                    id="url"
                    name="url"
                    value={resourceFormData.url}
                    onChange={handleResourceFormChange}
                    className="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                    placeholder="https://example.com"
                  />
                </div>
                
                <div className="mb-4">
                  <label className="block text-gray-700 text-sm font-bold mb-2" htmlFor="notes">
                    Notes (optional)
                  </label>
                  <textarea
                    id="notes"
                    name="notes"
                    value={resourceFormData.notes}
                    onChange={handleResourceFormChange}
                    className="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                    rows="3"
                  ></textarea>
                </div>
                
                <div className="flex items-center justify-between">
                  <button
                    type="submit"
                    className="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition duration-200"
                  >
                    Add Resource
                  </button>
                  <button
                    type="button"
                    onClick={() => document.getElementById('addResourceModal').classList.add('hidden')}
                    className="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition duration-200"
                  >
                    Cancel
                  </button>
                </div>
              </form>
            </div>
          </div>
        </div>
      );
      
      // Render the AI assistant section
      const renderAiAssistant = () => (
        <div className="space-y-6">
          <h2 className="text-xl font-bold text-gray-800">Gemini AI Research Assistant</h2>
          
          <div className="bg-white rounded-lg shadow p-6">
            <p className="text-gray-600 mb-4">
              Use the Gemini AI to help with your management and economics research. Ask questions about theoretical frameworks, methodology, literature reviews, data analysis approaches, or get help with drafting sections of your paper.
            </p>
            
            <div className="mb-4">
              <label className="block text-gray-700 text-sm font-bold mb-2" htmlFor="aiPrompt">
                What would you like help with?
              </label>
              <textarea
                id="aiPrompt"
                value={aiPrompt}
                onChange={(e) => setAiPrompt(e.target.value)}
                className="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                rows="4"
                placeholder="Example: 'Help me structure a literature review on behavioral economics in organizational settings' or 'Suggest a methodology for analyzing market equilibrium data'"
              ></textarea>
            </div>
            
            <button
              onClick={handleAiPrompt}
              disabled={isAiLoading}
              className="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition duration-200 disabled:bg-blue-300"
            >
              {isAiLoading ? (
                <span className="flex items-center">
                  <div className="loading-spinner mr-2"></div> Generating...
                </span>
              ) : "Generate"}
            </button>
            
            {aiResponse && (
              <div className="mt-6">
                <h3 className="font-bold text-gray-800 mb-2">AI Response:</h3>
                <div className="bg-gray-50 border rounded p-4 ai-response">
                  <div dangerouslySetInnerHTML={{ 
                    __html: aiResponse
                      .replace(/^#+\s?(.*?)$/gm, '<h3 class="font-bold text-lg mt-2 mb-1">$1</h3>')
                      .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                      .replace(/\n\n/g, '<br/><br/>')
                  }} />
                </div>
              </div>
            )}
          </div>
        </div>
      );
      
      // Render the export section
      const renderExport = () => (
        <div className="space-y-6">
          <h2 className="text-xl font-bold text-gray-800">Export Data</h2>
          
          <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div className="bg-white rounded-lg shadow p-6">
              <h3 className="font-bold text-gray-800 mb-4">Export to Word</h3>
              <p className="text-gray-600 mb-4">
                Export all your projects, tasks, and resources to a Microsoft Word document (.docx).
              </p>
              <button
                onClick={exportToWord}
                className="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition duration-200"
              >
                Export to Word
              </button>
            </div>
            
            <div className="bg-white rounded-lg shadow p-6">
              <h3 className="font-bold text-gray-800 mb-4">Export to PDF</h3>
              <p className="text-gray-600 mb-4">
                Export all your projects, tasks, and resources to a PDF document.
              </p>
              <button
                onClick={exportToPDF}
                className="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition duration-200"
              >
                Export to PDF
              </button>
            </div>
          </div>
        </div>
      );
      
      // Render the settings section
      const renderSettings = () => (
        <div className="space-y-6">
          <h2 className="text-xl font-bold text-gray-800">Settings</h2>
          
          <div className="bg-white rounded-lg shadow p-6">
            <h3 className="font-bold text-gray-800 mb-4">Gemini AI API Key</h3>
            <p className="text-gray-600 mb-4">
              Enter your Gemini AI API key to enable the AI assistant functionality. You can get an API key from the Google AI Studio.
            </p>
            <div className="mb-4">
              <label className="block text-gray-700 text-sm font-bold mb-2" htmlFor="apiKey">
                API Key
              </label>
              <input
                type="password"
                id="apiKey"
                value={googleApiKey}
                onChange={(e) => setGoogleApiKey(e.target.value)}
                className="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                placeholder="Enter your Gemini API key"
              />
            </div>
            <button
              onClick={() => alert('API Key saved!')}
              className="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition duration-200"
            >
              Save API Key
            </button>
          </div>
          
          <div className="bg-white rounded-lg shadow p-6">
            <h3 className="font-bold text-gray-800 mb-4">Data Management</h3>
            <p className="text-gray-600 mb-4">
              Manage your application data. Be careful with these actions as they cannot be undone.
            </p>
            <div className="space-y-4">
              <button
                onClick={() => {
                  if (confirm('Are you sure you want to export all data? This will download a JSON file with all your projects, tasks, and resources.')) {
                    const data = {
                      tasks,
                      projects,
                      resources,
                      exportDate: new Date().toISOString()
                    };
                    
                    const dataStr = JSON.stringify(data, null, 2);
                    const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);
                    
                    const exportFileDefaultName = 'phd-group-work-data.json';
                    
                    const linkElement = document.createElement('a');
                    linkElement.setAttribute('href', dataUri);
                    linkElement.setAttribute('download', exportFileDefaultName);
                    linkElement.click();
                  }
                }}
                className="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition duration-200 w-full md:w-auto"
              >
                Export All Data (JSON)
              </button>
              
              <button
                onClick={() => {
                  if (confirm('WARNING: This will delete all your data and cannot be undone. Are you sure?')) {
                    localStorage.removeItem('phd-group-tasks');
                    localStorage.removeItem('phd-group-projects');
                    localStorage.removeItem('phd-group-resources');
                    
                    setTasks([]);
                    setProjects([]);
                    setResources([]);
                    
                    alert('All data has been deleted.');
                  }
                }}
                className="bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition duration-200 w-full md:w-auto"
              >
                Reset All Data
              </button>
            </div>
          </div>
        </div>
      );
      
      // Render the search section
      const renderSearch = () => (
        <div className="space-y-6">
          <h2 className="text-xl font-bold text-gray-800">Search for Papers</h2>
          
          <div className="bg-white rounded-lg shadow p-6">
            <p className="text-gray-600 mb-4">
              Search for academic papers related to your research topic.
            </p>
            
            <div className="mb-4">
              <label className="block text-gray-700 text-sm font-bold mb-2" htmlFor="paperSearchQuery">
                Search Query
              </label>
              <input
                type="text"
                id="paperSearchQuery"
                value={paperSearchQuery}
                onChange={(e) => setPaperSearchQuery(e.target.value)}
                className="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                placeholder="Enter your search query"
              />
            </div>
            
            <button
              onClick={searchForPapers}
              disabled={isSearching}
              className="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition duration-200 disabled:bg-blue-300"
            >
              {isSearching ? (
                <span className="flex items-center">
                  <div className="loading-spinner mr-2"></div> Searching...
                </span>
              ) : "Search"}
            </button>
            
            {searchResults.length > 0 && (
              <div className="mt-6">
                <h3 className="font-bold text-gray-800 mb-2">Search Results:</h3>
                <div className="space-y-2">
                  {searchResults.map(paper => (
                    <div key={paper.id} className="bg-gray-50 border rounded p-4">
                      <h4 className="font-bold text-gray-800">{paper.title}</h4>
                      <p className="text-gray-600">{paper.abstract}</p>
                      <div className="flex justify-between items-center">
                        <span className="text-sm text-gray-500">Authors: {paper.author}</span>
                        <span className="text-sm text-gray-500">Year: {paper.year}</span>
                      </div>
                      <div className="flex justify-between items-center">
                        <span className="text-sm text-gray-500">Area: {paper.area}</span>
                        <span className="text-sm text-gray-500">Relevance: {paper.relevance}</span>
                      </div>
                      <button
                        onClick={() => addPaperToResources(paper)}
                        className="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition duration-200"
                      >
                        Add to Resources
                      </button>
                    </div>
                  ))}
                </div>
              </div>
            )}
          </div>
        </div>
      );
      
      return (
        <div className="container mx-auto px-4 py-8">
          <div className="flex items-center justify-between mb-8">
            <h1 className="text-3xl font-bold text-gray-800">Gestor de Trabalhos Académicos PhD - Gestão e Economia</h1>
            <div className="space-x-2">
              <button
                onClick={() => document.getElementById('helpModal').classList.remove('hidden')}
                className="bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition duration-200"
              >
                Help
              </button>
            </div>
          </div>
          
          <div className="bg-white rounded-lg shadow-lg overflow-hidden mb-8">
            <nav className="flex">
              <button
                onClick={() => setActiveTab('tasks')}
                className={`px-4 py-3 text-sm font-medium ${
                  activeTab === 'tasks' 
                    ? 'text-blue-600 border-b-2 border-blue-600' 
                    : 'text-gray-500 hover:text-gray-700'
                }`}
              >
                Tarefas
              </button>
              <button
                onClick={() => setActiveTab('projects')}
                className={`px-4 py-3 text-sm font-medium ${
                  activeTab === 'projects' 
                    ? 'text-blue-600 border-b-2 border-blue-600' 
                    : 'text-gray-500 hover:text-gray-700'
                }`}
              >
                Projetos
              </button>
              <button
                onClick={() => setActiveTab('resources')}
                className={`px-4 py-3 text-sm font-medium ${
                  activeTab === 'resources' 
                    ? 'text-blue-600 border-b-2 border-blue-600' 
                    : 'text-gray-500 hover:text-gray-700'
                }`}
              >
                Recursos
              </button>
              <button
                onClick={() => setActiveTab('ai')}
                className={`px-4 py-3 text-sm font-medium ${
                  activeTab === 'ai' 
                    ? 'text-blue-600 border-b-2 border-blue-600' 
                    : 'text-gray-500 hover:text-gray-700'
                }`}
              >
                Assistente de Pesquisa AI
              </button>
              <button
                onClick={() => setActiveTab('export')}
                className={`px-4 py-3 text-sm font-medium ${
                  activeTab === 'export' 
                    ? 'text-blue-600 border-b-2 border-blue-600' 
                    : 'text-gray-500 hover:text-gray-700'
                }`}
              >
                Exportar
              </button>
              <button
                onClick={() => setActiveTab('settings')}
                className={`px-4 py-3 text-sm font-medium ${
                  activeTab === 'settings' 
                    ? 'text-blue-600 border-b-2 border-blue-600' 
                    : 'text-gray-500 hover:text-gray-700'
                }`}
              >
                Configurações
              </button>
              <button
                onClick={() => setActiveTab('search')}
                className={`px-4 py-3 text-sm font-medium ${
                  activeTab === 'search' 
                    ? 'text-blue-600 border-b-2 border-blue-600' 
                    : 'text-gray-500 hover:text-gray-700'
                }`}
              >
                Pesquisar
              </button>
            </nav>
          </div>
          
          <main className="mb-8">
            {activeTab === 'tasks' && renderTasks()}
            {activeTab === 'projects' && renderProjects()}
            {activeTab === 'resources' && renderResources()}
            {activeTab === 'ai' && renderAiAssistant()}
            {activeTab === 'export' && renderExport()}
            {activeTab === 'settings' && renderSettings()}
            {activeTab === 'search' && renderSearch()}
          </main>
          
          {/* Help Modal */}
          <div id="helpModal" className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
            <div className="bg-white rounded-lg p-6 max-w-2xl w-full">
              <div className="flex justify-between items-start mb-4">
                <h2 className="text-xl font-bold">Ajuda & Documentação</h2>
                <button
                  onClick={() => document.getElementById('helpModal').classList.add('hidden')}
                  className="text-gray-400 hover:text-gray-500"
                >
                  <svg xmlns="http://www.w3.org/2000/svg" className="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
                  </svg>
                </button>
              </div>
              
              <div className="space-y-4 overflow-y-auto max-h-[70vh]">
                <div>
                  <h3 className="font-bold text-lg">Começando</h3>
                  <p className="text-gray-600 mt-1">
                    Esta aplicação ajuda a gerenciar trabalhos acadêmicos em grupo para projetos de PhD em gestão e economia. Use as abas no topo para navegar entre as diferentes seções.
                  </p>
                </div>
                
                <div>
                  <h3 className="font-bold text-lg">Tarefas</h3>
                  <p className="text-gray-600 mt-1">
                    Crie, gerencie e atualize tarefas para o seu trabalho em grupo. Você pode atribuir tarefas a membros da equipe, definir prioridades, acompanhar o progresso e organizar por categorias.
                  </p>
                </div>
                
                <div>
                  <h3 className="font-bold text-lg">Projetos</h3>
                  <p className="text-gray-600 mt-1">
                    Gerencie seus projetos de pesquisa, monitore prazos e acompanhe o progresso geral. Adicione membros da equipe e vincule tarefas a projetos.
                  </p>
                </div>
                
                <div>
                  <h3 className="font-bold text-lg">Recursos</h3>
                  <p className="text-gray-600 mt-1">
                    Mantenha um registro de recursos acadêmicos, incluindo livros, artigos de revistas e outras referências relevantes para a sua pesquisa.
                  </p>
                </div>
                
                <div>
                  <h3 className="font-bold text-lg">Assistente de Pesquisa AI</h3>
                  <p className="text-gray-600 mt-1">
                    Obtenha ajuda do Assistente de Pesquisa AI para revisões da literatura, metodologia, estrutura de pesquisa e mais. Você precisará adicionar sua chave de API na seção Configurações.
                  </p>
                </div>
                
                <div>
                  <h3 className="font-bold text-lg">Exportar</h3>
                  <p className="text-gray-600 mt-1">
                    Exporte seus dados de projeto para formatos Word ou PDF para compartilhamento ou submissão.
                  </p>
                </div>
                
                <div>
                  <h3 className="font-bold text-lg">Configurações</h3>
                  <p className="text-gray-600 mt-1">
                    Configure sua chave de API do Assistente de Pesquisa AI e gerencie seus dados da aplicação.
                  </p>
                </div>
                
                <div>
                  <h3 className="font-bold text-lg">Armazenamento de Dados</h3>
                  <p className="text-gray-600 mt-1">
                    Todos os seus dados são armazenados localmente no seu navegador. Use a funcionalidade de exportação na seção Configurações para fazer backup dos seus dados regularmente.
                  </p>
                </div>
                
                <div>
                  <h3 className="font-bold text-lg">Pesquisar</h3>
                  <p className="text-gray-600 mt-1">
                    Pesquise por artigos acadêmicos relacionados ao seu tópico de pesquisa.
                  </p>
                </div>
              </div>
              
              <div className="mt-6 flex justify-end">
                <button
                  onClick={() => document.getElementById('helpModal').classList.add('hidden')}
                  className="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition duration-200"
                >
                  Fechar
                </button>
              </div>
            </div>
          </div>
          
          <footer className="text-center text-gray-500 text-sm mt-8">
            <p>Gestor de Trabalhos Académicos PhD - Gestão e Economia</p>
            <p>&copy; {new Date().getFullYear()}</p>
          </footer>
        </div>
      );
    };
    
    // Render the app
    ReactDOM.render(<App />, document.getElementById('app-root'));
  </script>
</body>
</html>